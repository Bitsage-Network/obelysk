# VM31 Relayer Configuration
# Copy to .env and fill in required values

# ── Server ──────────────────────────────────────────────────────────────────
VM31_HOST=0.0.0.0
VM31_PORT=3080

# ── Starknet ────────────────────────────────────────────────────────────────
# Required: RPC endpoint (must be HTTPS for non-localhost)
STARKNET_RPC_URL=https://api.cartridge.gg/x/starknet/sepolia
# Required: Deployer/relayer account address
STARKNET_ACCOUNT=0x...

# ── Contract Addresses ──────────────────────────────────────────────────────
# All required, hex-encoded with 0x prefix
VM31_VERIFIER_CONTRACT=0x...
VM31_POOL_CONTRACT=0x...
VM31_BRIDGE_CONTRACT=0x...
VM31_CT_CONTRACT=0x...

# ── Batch Settings ──────────────────────────────────────────────────────────
VM31_BATCH_MAX_SIZE=16
VM31_BATCH_TIMEOUT_SECS=60
VM31_CHUNK_SIZE=32

# ── Authentication ──────────────────────────────────────────────────────────
# Required: Comma-separated list of valid API keys
VM31_API_KEYS=key1,key2

# ── Rate Limiting ───────────────────────────────────────────────────────────
VM31_RATE_LIMIT=30

# ── Redis (optional) ────────────────────────────────────────────────────────
# Falls back to in-memory store if not set
# REDIS_URL=redis://localhost:6379

# ── CORS (optional) ────────────────────────────────────────────────────────
# Comma-separated allowed origins. Empty = permissive (dev only).
# VM31_ALLOWED_ORIGINS=https://obelysk.xyz,https://www.obelysk.xyz

# ── Tree Sync (optional) ──────────────────────────────────────────────────
# Path to Merkle tree disk cache (default: ~/.vm31/tree_cache.json)
# VM31_TREE_CACHE_PATH=/var/lib/vm31/tree_cache.json
# Sync polling interval in seconds (default: 15)
# VM31_TREE_SYNC_INTERVAL=15

# ── Logging ─────────────────────────────────────────────────────────────────
RUST_LOG=vm31_relayer=info,tower_http=info
